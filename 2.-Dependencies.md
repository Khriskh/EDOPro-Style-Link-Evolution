## All platforms
From the edopro folder (set your platform name appropriately):
```bash
./travis/install-local-dependencies.sh windows|linux|osx
```
This downloads irrKlang on all platforms. On Windows, it additionally downloads FreeType 2.6.5 (newer versions look blurry due to an interpreter change) and patches Irrlicht. Both of these are built in Visual Studio with the main project.

## Windows
Dependencies are built with `vcpkg` and we make use of its MSBuild-integration.

Install [vcpkg](https://github.com/microsoft/vcpkg) and set up user-wide integration following Microsoft's instructions. Then build the dependencies from source. The following Git Bash script will install to `C:\vcpkg`:

```bash
git clone https://github.com/microsoft/vcpkg.git /c/vcpkg
cd /c/vcpkg
powershell.exe -NoProfile -ExecutionPolicy Bypass -Command "& '.\bootstrap-vcpkg.bat'"
./vcpkg.exe integrate install
./vcpkg.exe install --triplet x86-windows-static lua[cpp] libevent sqlite3 bzip2 libjpeg-turbo libpng zlib curl libgit2 fmt nlohmann-json
```

This will build dependencies from source, so it can take some time depending on your machine, especially to build OpenSSL. If you'd like to get started quickly, you can download and extract [this cached zip](https://github.com/kevinlul/edopro-vcpkg-cache/raw/master/installed.zip) to your vcpkg folder before running the install command.

## Linux
Some common dependencies are obtained from your package manager and the rest are built with `vcpkg` for binary compatibility between distributions, but you can also retrieve them from your package manager or build from source manually.

From your package manager obtain development versions of FreeType2, Irrlicht, and OpenGL headers. For example, on Debian-based distributions:
```bash
sudo apt install libfreetype6-dev libirrlicht-dev libgl1-mesa-dev libglu-dev -y
```

Install [vcpkg](https://github.com/microsoft/vcpkg) and set up user-wide integration following Microsoft's instructions. Then build the dependencies from source.
```bash
git clone https://github.com/microsoft/vcpkg.git
cd vcpkg
./bootstrap-vcpkg.sh
./vcpkg integrate install
./vcpkg install libevent sqlite3 curl libgit2 fmt nlohmann-json
```
This will build dependencies from source, so it can take some time depending on your machine, especially to build OpenSSL. If you'd like to get started quickly, you can download and extract [this cached 7z archive](https://github.com/kevinlul/edopro-vcpkg-cache/raw/master/installed-linux.7z) to your vcpkg folder before running the install command.

Install lua with C++ bindings to your system with `./ocgcore/travis/install-lua.sh linux`

## macOS
Most dependencies are obtained from Homebrew. For binary compatibility and best behaviour, libevent and a patched irrlicht are built from source with Xcode against the [10.11 SDK](https://github.com/phracker/MacOSX-SDKs), but you can also install them from Homebrew.
```bash
brew install libevent freetype sqlite curl libgit2 fmt nlohmann-json
```

To retrieve the 10.11 SDK and build from source, from the edopro folder:
```bash
./travis/get-osx-sdk.sh 10.11
export MACOSX_DEPLOYMENT_TARGET=10.11
export SDKROOT="/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk"
./travis/install-osx-dependencies.sh
```

If you don't want to build the dependencies yourself, you can install them from cache with `./travis/get-osx-cache.sh`

Install lua with C++ bindings to your system with `./ocgcore/travis/install-lua.sh osx`. You may need to install `readline`, such as with `sudo apt install libreadline-dev -y`

Known issues:
- irrlicht built against macOS 10.14 will have [glitchy textboxes](https://github.com/edo9300/ygopro/issues/24).

